# ุชูููุฐ ูุธุงู ุชุนุฏุฏ ุงููุบุงุช (i18n) - ุณุงุฑู

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅููุงู ูุธุงู ุชุนุฏุฏ ุงููุบุงุช ุงูุดุงูู ูููุตุฉ ุณุงุฑูุ ูุน ุฏุนู 6 ูุบุงุช ุนุงูููุฉ ูุชูุงูู ูุงูู ูุน ูุธุงู ุงูุนููุงุช.

---

## ุงููุบุงุช ุงููุฏุนููุฉ

| ุงููุบุฉ | ุงูููุฏ | ุงูุนูู | ุงูุนููุฉ | ุฑูุฒ ุงูุนููุฉ |
|------|------|------|--------|-----------|
| ุงูุนุฑุจูุฉ | ar | ๐ธ๐ฆ | SAR | ุฑ.ุณ |
| English | en | ๐ฌ๐ง | USD | $ |
| Franรงais | fr | ๐ซ๐ท | EUR | โฌ |
| Tรผrkรงe | tr | ๐น๐ท | TRY | โบ |
| Espaรฑol | es | ๐ช๐ธ | EUR | โฌ |
| Italiano | it | ๐ฎ๐น | EUR | โฌ |

---

## ุงููููุงุช ุงููุถุงูุฉ/ุงููุญุฏุซุฉ

### 1. ูููุงุช ุงูุชุฑุฌูุฉ
- โ `client/src/locales/fr.json` - ุงูุชุฑุฌูุฉ ุงููุฑูุณูุฉ ุงููุงููุฉ
- โ `client/src/locales/tr.json` - ุงูุชุฑุฌูุฉ ุงูุชุฑููุฉ ุงููุงููุฉ
- โ `client/src/locales/es.json` - ุงูุชุฑุฌูุฉ ุงูุฅุณุจุงููุฉ ุงููุงููุฉ
- โ `client/src/locales/it.json` - ุงูุชุฑุฌูุฉ ุงูุฅูุทุงููุฉ ุงููุงููุฉ

### 2. ุงูุชูููู ูุงูููุชุจุงุช
- โ `client/src/lib/i18n.ts` - ูุญุฏุซ ูุฏุนู ุงููุบุงุช ุงูุฌุฏูุฏุฉ
- โ `client/src/lib/currency.ts` - ูุธุงู ุชูุณูู ุงูุนููุงุช ุงููุงูู
- โ `client/src/components/LanguageSwitcher.tsx` - ูุญุฏุซ ูุฏุนู 6 ูุบุงุช

### 3. Setup Wizard
- โ `client/src/pages/setup-wizard/LanguageStep.tsx` - ุฎุทูุฉ ุฌุฏูุฏุฉ ูุงุฎุชูุงุฑ ุงููุบุฉ
- โ `client/src/pages/SetupWizard.tsx` - ูุญุฏุซ ูุชุถููู ุฎุทูุฉ ุงููุบุฉ (9 ุฎุทูุงุช ุงูุขู)

### 4. ุตูุญุงุช ุงูุฅุนุฏุงุฏุงุช
- โ `client/src/pages/merchant/LanguageSettings.tsx` - ุตูุญุฉ ุฅุนุฏุงุฏุงุช ุงููุบุฉ ุงููุงููุฉ
- โ `client/src/App.tsx` - ุฅุถุงูุฉ route `/merchant/language-settings`

---

## ุงููููุฒุงุช ุงููููุฐุฉ

### 1. Setup Wizard ุงููุญุฏุซ
- **ุฎุทูุฉ ุฌุฏูุฏุฉ**: ุฎุทูุฉ ุงุฎุชูุงุฑ ุงููุบุฉ (ุงูุฎุทูุฉ 8 ูู 9)
- **ูุงุฌูุฉ ุฌุฐุงุจุฉ**: ุนุฑุถ ุงูุฃุนูุงู ูุงูุนููุงุช ููู ูุบุฉ
- **ูุนุงููุฉ ูุจุงุดุฑุฉ**: ุนุฑุถ ูููุฐุฌ ุฑุณุงูุฉ ุงูุจูุช ุจุงูุนุฑุจูุฉ ุญุณุจ ุงููุบุฉ ุงููุฎุชุงุฑุฉ
- **ุญูุธ ุชููุงุฆู**: ุญูุธ ุงููุบุฉ ูุงูุนููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 2. ุตูุญุฉ ุฅุนุฏุงุฏุงุช ุงููุบุฉ (`/merchant/language-settings`)
- **ุงุฎุชูุงุฑ ุงููุบุฉ**: ูุงุฌูุฉ ุชูุงุนููุฉ ูุงุฎุชูุงุฑ ุงููุบุฉ
- **ูุนุงููุฉ ุดุงููุฉ**: 4 ุฃููุงุน ูู ุฑุณุงุฆู ุงูุจูุช:
  - ุฑุณุงูุฉ ุงูุชุฑุญูุจ
  - ุฑุณุงูุฉ ุงูููุชุฌุงุช
  - ุฑุณุงูุฉ ุงูุทูุจ
  - ุฑุณุงูุฉ ุงูุดูุฑ
- **ุญูุธ ููุฑู**: ุชุญุฏูุซ ุงููุบุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุงุฌูุฉ ุงููุณุชุฎุฏู
- **ุชุจุฏูู ุงูุงุชุฌุงู**: ุชุบููุฑ ุชููุงุฆู ุจูู RTL/LTR

### 3. ูุธุงู ุงูุนููุงุช ุงููุงูู (`lib/currency.ts`)

#### ุงูุฏูุงู ุงููุชุงุญุฉ:

```typescript
// ุชูุณูู ุงููุจุงูุบ ุงููุงููุฉ
formatCurrency(1234.56, 'ar') // "ุฑ.ุณ 1,234.56"
formatCurrency(1234.56, 'en') // "$1,234.56"
formatCurrency(1234.56, 'fr') // "1 234,56 โฌ"

// ุงูุญุตูู ุนูู ุฑูุฒ ุงูุนููุฉ
getCurrencySymbol('ar') // "ุฑ.ุณ"
getCurrencySymbol('tr') // "โบ"

// ุงูุญุตูู ุนูู ููุฏ ุงูุนููุฉ
getCurrencyCode('ar') // "SAR"
getCurrencyCode('en') // "USD"

// ุชุญููู ุงููุตูุต ุงููุงููุฉ
parseCurrency("ุฑ.ุณ 1,234.56") // 1234.56

// ุชูุณูู ุงูุฃุฑูุงู
formatNumber(1234567, 'ar') // "1,234,567"
```

### 4. LanguageSwitcher ุงููุญุฏุซ
- ุฏุนู 6 ูุบุงุช ุจุฏูุงู ูู 2
- ุชุบููุฑ ุนูู ุงูุฅูุฌููุฒูุฉ ูู ๐บ๐ธ ุฅูู ๐ฌ๐ง
- ุนุฑุถ ุงูุนููุฉ ูุน ูู ูุบุฉ

---

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูููุทูุฑูู

#### 1. ุงุณุชุฎุฏุงู ุงูุชุฑุฌูุฉ ูู ุงูููููุงุช
```tsx
import { useTranslation } from 'react-i18next';

function MyComponent() {
  const { t } = useTranslation();
  
  return (
    <div>
      <h1>{t('common.welcome')}</h1>
      <p>{t('dashboard.overview')}</p>
    </div>
  );
}
```

#### 2. ุงุณุชุฎุฏุงู ุชูุณูู ุงูุนููุงุช
```tsx
import { formatCurrency } from '@/lib/currency';

function PriceDisplay({ amount }: { amount: number }) {
  return <span>{formatCurrency(amount)}</span>;
}
```

#### 3. ุชุบููุฑ ุงููุบุฉ ุจุฑูุฌูุงู
```tsx
import { useTranslation } from 'react-i18next';

function LanguageButton() {
  const { i18n } = useTranslation();
  
  const changeLanguage = (lang: string) => {
    i18n.changeLanguage(lang);
    document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
    document.documentElement.lang = lang;
  };
  
  return <button onClick={() => changeLanguage('en')}>English</button>;
}
```

### ูููุณุชุฎุฏููู

#### 1. ุฃุซูุงุก ุงูุฅุนุฏุงุฏ ุงูุฃููู
- ูู Setup Wizardุ ุงูุฎุทูุฉ 8 ุชุณูุญ ุจุงุฎุชูุงุฑ ูุบุฉ ุงูุจูุช
- ูุชู ุนุฑุถ ูุนุงููุฉ ูุจุงุดุฑุฉ ููุฑุณุงุฆู
- ุงูุนููุฉ ุงููุฑุชุจุทุฉ ุชูุญุฏุฏ ุชููุงุฆูุงู

#### 2. ุชุบููุฑ ุงููุบุฉ ูุงุญูุงู
- ุงูุงูุชูุงู ุฅูู: ููุญุฉ ุงูุชุญูู โ ุงูุฅุนุฏุงุฏุงุช โ ุฅุนุฏุงุฏุงุช ุงููุบุฉ
- ุฃู ูุจุงุดุฑุฉ: `/merchant/language-settings`
- ุงุฎุชูุงุฑ ุงููุบุฉ ุงููุทููุจุฉ
- ูุนุงููุฉ ุงูุฑุณุงุฆู ูุจู ุงูุญูุธ
- ุงูููุฑ ุนูู "ุญูุธ ุงูุชุบููุฑุงุช"

---

## ุงูุจููุฉ ุงูุชูููุฉ

### ุชุฏูู ุงูุจูุงูุงุช

```
User Selection
    โ
LanguageStep/LanguageSettings
    โ
tRPC Mutation (settings.update)
    โ
Database Update (botLanguage, currency)
    โ
i18n.changeLanguage()
    โ
UI Update + localStorage
```

### ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุงูุญููู ุงููุถุงูุฉ ูู ุฌุฏูู `merchants`:
- `botLanguage`: ููุฏ ุงููุบุฉ (ar, en, fr, tr, es, it)
- `currency`: ููุฏ ุงูุนููุฉ (SAR, USD, EUR, TRY)

---

## ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุชุจุฏูู ุงููุบุฉ
1. ุงูุชุญ ุงููููุน
2. ุงููุฑ ุนูู ุฃููููุฉ ุงููุบุฉ ูู ุงูุดุฑูุท ุงูุนููู
3. ุงุฎุชุฑ ูุบุฉ ูุฎุชููุฉ
4. ุชุญูู ูู:
   - ุชุบููุฑ ุงุชุฌุงู ุงูุตูุญุฉ (RTL/LTR)
   - ุชุญุฏูุซ ุงููุตูุต
   - ุชุญุฏูุซ ุชูุณูู ุงูุนููุงุช

### ุงุฎุชุจุงุฑ Setup Wizard
1. ุงุจุฏุฃ Setup Wizard ุฌุฏูุฏ
2. ุฃููู ุงูุฎุทูุงุช ุญุชู ุงูุฎุทูุฉ 8
3. ุงุฎุชุฑ ูุบุฉ ูุฎุชููุฉ
4. ุชุญูู ูู ุงููุนุงููุฉ ุงููุจุงุดุฑุฉ
5. ุฃููู ุงูุฅุนุฏุงุฏ

### ุงุฎุชุจุงุฑ ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช
1. ุงูุชุญ `/merchant/language-settings`
2. ุงุฎุชุฑ ูุบุฉ ูุฎุชููุฉ
3. ุฑุงุฌุน ุงููุนุงููุงุช ุงูุฃุฑุจุนุฉ
4. ุงุญูุธ ุงูุชุบููุฑุงุช
5. ุชุญูู ูู ุชุทุจูู ุงููุบุฉ ูู ุฌููุน ุงูุตูุญุงุช

---

## ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑูุฉ)

### ุชุญุณููุงุช ูุณุชูุจููุฉ
- [ ] ุชุญุฏูุซ ุฌููุน ุงูุตูุญุงุช ูุงุณุชุฎุฏุงู `t('key')` ุจุฏูุงู ูู ุงููุตูุต ุงูุซุงุจุชุฉ
- [ ] ุฅุถุงูุฉ ุชุฑุฌูุงุช ูุฑุณุงุฆู ุงูุจูุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ุฏุนู ูุบุงุช ุฅุถุงููุฉ (ุฃููุงููุ ุจุฑุชุบุงููุ ุฅูุฎ)
- [ ] ูุธุงู ุชุฑุฌูุฉ ุฏููุงูููู ูููุญุชูู ุงููุฎุตุต
- [ ] ุชูุงูู ูุน ุฎุฏูุงุช ุงูุชุฑุฌูุฉ ุงูุขููุฉ

### ุตูุงูุฉ
- ุชุญุฏูุซ ูููุงุช ุงูุชุฑุฌูุฉ ุนูุฏ ุฅุถุงูุฉ ูุตูุต ุฌุฏูุฏุฉ
- ูุฑุงุฌุนุฉ ุฏูุฑูุฉ ูุฌูุฏุฉ ุงูุชุฑุฌูุงุช
- ุงุฎุชุจุงุฑ ุชูุณูู ุงูุนููุงุช ูุน ููู ูุฎุชููุฉ

---

## ุงูููุงุญุธุงุช ุงููููุฉ

### ุงูุฃุฏุงุก
- ุฌููุน ูููุงุช ุงูุชุฑุฌูุฉ ูุญููุฉ ุนูุฏ ุจุฏุก ุงูุชุทุจูู
- ุงูุชุจุฏูู ุจูู ุงููุบุงุช ููุฑู (ูุง ูุชุทูุจ ุฅุนุงุฏุฉ ุชุญููู)
- ุงุณุชุฎุฏุงู `localStorage` ููุญูุงุธ ุนูู ุงุฎุชูุงุฑ ุงููุณุชุฎุฏู

### ุงูุชูุงูู
- ุฏุนู ูุงูู ูู RTL/LTR
- ุชูุณูู ุงูุนููุงุช ูุณุชุฎุฏู `Intl.NumberFormat` ููุฏูุฉ
- fallback ูููุชุตูุญุงุช ุงููุฏููุฉ

### ุงูุฃูุงู
- ุฌููุน ุงูุชุญุฏูุซุงุช ุชูุฑ ุนุจุฑ tRPC ุงููุญูู
- ุงูุชุญูู ูู ุตุญุฉ ุงููุบุฉ ูุงูุนููุฉ ูู ุงูู backend
- ูุง ูููู ูููุณุชุฎุฏููู ุชุนููู ููู ุบูุฑ ุตุงูุญุฉ

---

## ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:
- ุฑุงุฌุน ููู `todo.md` ููููุงู ุงูุฌุงุฑูุฉ
- ุชุญูู ูู console ููุฃุฎุทุงุก
- ุชุฃูุฏ ูู ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุดูู ุตุญูุญ

---

**ุชุงุฑูุฎ ุงูุชูููุฐ**: 2026-01-06  
**ุงูุฅุตุฏุงุฑ**: 1.0.0  
**ุงูุญุงูุฉ**: โ ููุชูู ููุฎุชุจุฑ
