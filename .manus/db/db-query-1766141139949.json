{
  "query": "CREATE TABLE IF NOT EXISTS `bookings` (\n  `id` int AUTO_INCREMENT NOT NULL PRIMARY KEY,\n  `merchant_id` int NOT NULL,\n  `service_id` int NOT NULL,\n  `customer_phone` varchar(20) NOT NULL,\n  `customer_name` varchar(255),\n  `customer_email` varchar(255),\n  `staff_id` int,\n  `booking_date` date NOT NULL,\n  `start_time` varchar(5) NOT NULL,\n  `end_time` varchar(5) NOT NULL,\n  `duration_minutes` int NOT NULL,\n  `status` enum('pending','confirmed','in_progress','completed','cancelled','no_show') NOT NULL DEFAULT 'pending',\n  `payment_status` enum('unpaid','paid','refunded') NOT NULL DEFAULT 'unpaid',\n  `base_price` int NOT NULL,\n  `discount_amount` int NOT NULL DEFAULT 0,\n  `final_price` int NOT NULL,\n  `google_event_id` varchar(255),\n  `reminder_24h_sent` tinyint NOT NULL DEFAULT 0,\n  `reminder_1h_sent` tinyint NOT NULL DEFAULT 0,\n  `notes` text,\n  `cancellation_reason` text,\n  `cancelled_by` enum('customer','merchant','system'),\n  `booking_source` enum('whatsapp','website','phone','walk_in') NOT NULL DEFAULT 'whatsapp',\n  `confirmed_at` timestamp,\n  `completed_at` timestamp,\n  `cancelled_at` timestamp,\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (`merchant_id`) REFERENCES `merchants`(`id`) ON DELETE CASCADE,\n  FOREIGN KEY (`service_id`) REFERENCES `services`(`id`) ON DELETE CASCADE,\n  FOREIGN KEY (`staff_id`) REFERENCES `staff_members`(`id`) ON DELETE SET NULL\n)",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3GAtigc1mT3FupY.root --database aEd97Sv38TzpxF76sMza4k --execute CREATE TABLE IF NOT EXISTS `bookings` (\n  `id` int AUTO_INCREMENT NOT NULL PRIMARY KEY,\n  `merchant_id` int NOT NULL,\n  `service_id` int NOT NULL,\n  `customer_phone` varchar(20) NOT NULL,\n  `customer_name` varchar(255),\n  `customer_email` varchar(255),\n  `staff_id` int,\n  `booking_date` date NOT NULL,\n  `start_time` varchar(5) NOT NULL,\n  `end_time` varchar(5) NOT NULL,\n  `duration_minutes` int NOT NULL,\n  `status` enum('pending','confirmed','in_progress','completed','cancelled','no_show') NOT NULL DEFAULT 'pending',\n  `payment_status` enum('unpaid','paid','refunded') NOT NULL DEFAULT 'unpaid',\n  `base_price` int NOT NULL,\n  `discount_amount` int NOT NULL DEFAULT 0,\n  `final_price` int NOT NULL,\n  `google_event_id` varchar(255),\n  `reminder_24h_sent` tinyint NOT NULL DEFAULT 0,\n  `reminder_1h_sent` tinyint NOT NULL DEFAULT 0,\n  `notes` text,\n  `cancellation_reason` text,\n  `cancelled_by` enum('customer','merchant','system'),\n  `booking_source` enum('whatsapp','website','phone','walk_in') NOT NULL DEFAULT 'whatsapp',\n  `confirmed_at` timestamp,\n  `completed_at` timestamp,\n  `cancelled_at` timestamp,\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (`merchant_id`) REFERENCES `merchants`(`id`) ON DELETE CASCADE,\n  FOREIGN KEY (`service_id`) REFERENCES `services`(`id`) ON DELETE CASCADE,\n  FOREIGN KEY (`staff_id`) REFERENCES `staff_members`(`id`) ON DELETE SET NULL\n)",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2223
}